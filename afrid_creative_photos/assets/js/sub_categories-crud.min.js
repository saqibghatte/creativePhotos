function getSingleSub_categories(){window.$_GET=new URLSearchParams(location.search);var a=$_GET.get('sub_categories_id');$.ajax({url:'required/sub_categories-ajax.php',type:'POST',data:{sub_categories_id:a},success:function(a){if((a =='false')) window.location.href = 'sub_categories';for(var e in a=JSON.parse(a)) $('#view'+e).html(a[e]);$('#actions').html(a.Actions)}})} function load_sub_categories_data(){var a=[];$('.listOfSub_categories tfoot').find('th').each(function(){ a.push({mData:$(this).text()})}),$('.listOfSub_categories').DataTable({aoColumns:a,lengthMenu:[[20, 50, 500, 1000],[20, 50, 500, 1000],],ajax:$.fn.dataTable.pipeline({url:'required/sub_categories-ajax.php',pages:5,type:'POST',data:function(a){ window.$_GET = new URLSearchParams(location.search);(binData = $_GET.get('bin')),binData == 'true' ? (a.recycleBin = 'true') : (a.recycleBin = 'false'); a.detailsOf='sub_categories',$('.noExl').find('th').each(function(){searchTargets=$(this).find('input,select'),void 0!==searchTargets.attr('id')&&(key=searchTargets.attr('id'),a[key]=searchTargets.val())}); a["searchThroughOut"] = $("#throughOut").val();}})})}present_page=location.pathname.split('/').slice(-1)[0],present_page = present_page.replace('.php', ''),'sub_categories'==present_page&&(toCall='load_sub_categories_data'),'sub_categories-view'==present_page&&(toCall='getSingleSub_categories'), page_name=getPageName(),page_name=page_name.split('-');$("#deleteSub_categories").on("hide.bs.modal", function () {$(".modal-body").find('[type="hidden"]').val(null);});$("#deleteSub_categories").on("show.bs.modal", function (event) {var modal = $(this);var button = $(event.relatedTarget);modal.find('[name="sub_categoriesDeleteId"]').val(button.data("id"));});$(document.body).on('click',"[name='deleteSub_categories']",function(a){a.preventDefault(),element=$(this),sub_categoriesDeleteId=$(this).closest('.modal').find("[name='sub_categoriesDeleteId']").val(),data={sub_categoriesDeleteId:sub_categoriesDeleteId,deleteSub_categories:!0},redirect='','sub_categories-view'==getPageName()&&(redirect='sub_categories'),deleteFromServer('required/sub_categories-ajax.php',data,redirect,'delete')}); $("#restoreSub_categories").on("hide.bs.modal", function () {$(".modal-body").find('[type="hidden"]').val(null);});$("#restoreSub_categories").on("show.bs.modal", function (event) {var modal = $(this);var button = $(event.relatedTarget);modal.find('[name="sub_categoriesRestoreId"]').val(button.data("id"));});$(document.body).on('click',"[name='restoreSub_categories']",function(a){a.preventDefault(),element=$(this),sub_categoriesRestoreId=$(this).closest('.modal').find("[name='sub_categoriesRestoreId']").val(),data={sub_categoriesRestoreId:sub_categoriesRestoreId,restoreSub_categories:!0},redirect='','sub_categories-view'==getPageName()&&(redirect='sub_categories'),deleteFromServer('required/sub_categories-ajax.php',data,redirect,'restore')});$('#manageSub_categoriesForm').submit(function(a){a.preventDefault();if (typeof CKEDITOR !== "undefined") {$(".ckeditor").each(function () {CKEDITOR.instances[$(this).attr("id")].updateElement();});}element=$(this),form_data=new FormData(this),pushToServer(form_data,'required/sub_categories-ajax.php','Sub_categories')}),$(document.body).on('click','.closeManageSub_categories',function(){hideForm('Sub_categories')}),$(document).on('keydown',function(a){'Escape'==a.key&&'none'!=$('#manageSub_categories').css('display')&&hideForm('Sub_categories')});$(document.body).on("click",".duplicateSub_categories,.editSub_categories,.addSub_categories",function (event) {$(".hideInEdit,.hideInAdd").show();$(".rowAction").removeClass("show");var modal = $("#manageSub_categories");var button = $(this);modal.find('[name="modifyingSub_categories"]').val(button.data("id"));modal.find('modalTitle,[name="manageSub_categories"]').text(button.data("modaltitle"));if (+button.data("id") == -1) {modal.find("duplicateTitle").text(button.data("duplicatetitle"));$(".hideInEdit").hide();}if (+button.data("id") == 0) {$(".hideInAdd").hide();modal.find("duplicateTitle").text("");modal.find('[type="password"]').removeAttr("required");}if (+button.data("id") > 0 || +button.data("id") == -1) {if (+button.data("id") > 0) modal.find("duplicateTitle").text("");modal.find('[type="password"]').removeAttr("required");$(".hideInEdit").hide(); modal.find('[name="category_id"]').val(button.data('category_id')).trigger('change');modal.find('[name="name"]').val(button.data("name")).trigger('change');modal.find('.imageUploadContainer').eq(0).find('img').attr('src', 'assets/images/sub_categories/' + button.data('image'));$("[name='image ']").removeAttr('required'); }$("#manageSub_categories").slideDown();$(".complete-form-container").slideDown();$("#Sub_categoriesContainer").slideUp();});