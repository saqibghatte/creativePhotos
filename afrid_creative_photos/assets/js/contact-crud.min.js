function getSingleContact(){window.$_GET=new URLSearchParams(location.search);var a=$_GET.get('contact_id');$.ajax({url:'required/contact-ajax.php',type:'POST',data:{contact_id:a},success:function(a){if((a =='false')) window.location.href = 'contact';for(var e in a=JSON.parse(a)) $('#view'+e).html(a[e]);$('#actions').html(a.Actions)}})} function load_contact_data(){var a=[];$('.listOfContact tfoot').find('th').each(function(){ a.push({mData:$(this).text()})}),$('.listOfContact').DataTable({aoColumns:a,lengthMenu:[[20, 50, 500, 1000],[20, 50, 500, 1000],],ajax:$.fn.dataTable.pipeline({url:'required/contact-ajax.php',pages:5,type:'POST',data:function(a){ window.$_GET = new URLSearchParams(location.search);(binData = $_GET.get('bin')),binData == 'true' ? (a.recycleBin = 'true') : (a.recycleBin = 'false'); a.detailsOf='contact',$('.noExl').find('th').each(function(){searchTargets=$(this).find('input,select'),void 0!==searchTargets.attr('id')&&(key=searchTargets.attr('id'),a[key]=searchTargets.val())}); }})})}present_page=location.pathname.split('/').slice(-1)[0],present_page = present_page.replace('.php', ''),'contact'==present_page&&(toCall='load_contact_data'),'contact-view'==present_page&&(toCall='getSingleContact'), page_name=getPageName(),page_name=page_name.split('-');$("#deleteContact").on("hide.bs.modal", function () {$(".modal-body").find('[type="hidden"]').val(null);});$("#deleteContact").on("show.bs.modal", function (event) {var modal = $(this);var button = $(event.relatedTarget);modal.find('[name="contactDeleteId"]').val(button.data("id"));});$(document.body).on('click',"[name='deleteContact']",function(a){a.preventDefault(),element=$(this),contactDeleteId=$(this).closest('.modal').find("[name='contactDeleteId']").val(),data={contactDeleteId:contactDeleteId,deleteContact:!0},redirect='','contact-view'==getPageName()&&(redirect='contact'),deleteFromServer('required/contact-ajax.php',data,redirect,'delete')}); $("#restoreContact").on("hide.bs.modal", function () {$(".modal-body").find('[type="hidden"]').val(null);});$("#restoreContact").on("show.bs.modal", function (event) {var modal = $(this);var button = $(event.relatedTarget);modal.find('[name="contactRestoreId"]').val(button.data("id"));});$(document.body).on('click',"[name='restoreContact']",function(a){a.preventDefault(),element=$(this),contactRestoreId=$(this).closest('.modal').find("[name='contactRestoreId']").val(),data={contactRestoreId:contactRestoreId,restoreContact:!0},redirect='','contact-view'==getPageName()&&(redirect='contact'),deleteFromServer('required/contact-ajax.php',data,redirect,'restore')});